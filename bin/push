#!/bin/sh
#
#  Push to all origins.
#


#
#  Mercurial
#
if [ -d .hg ]; then
   exec hg push
fi

#
#  Git
#
if [ -d .git ] ; then
    for i in $(git remote) ; do
        echo "Pushing to $i"
        git remote show $i  2>/dev/null| grep URL
        git push --quiet $i master --tags
    done
    exit 0;
fi


#
#  Abort
#
echo "Neither .git nor .hg found"
exit 1
